/* modelo_logico: */

CREATE TABLE PROJETO (
    CODIGO_PROJETO INTEGER PRIMARY KEY,
    TIPO CHAR,
    DESCRICAO BLOB
);

CREATE TABLE DOCENTE (
    CODIGO_DOCENTE INTEGER PRIMARY KEY,
    NOME CHAR,
    CATEGORIA CHAR,
    FK_CATEGORIA_CATEGORIA CHAR
);

CREATE TABLE CATEGORIA (
    CATEGORIA CHAR PRIMARY KEY,
    SALARIO INTEGER
);

CREATE TABLE PROJETO_DOCENTE (
    FK_PROJETO_CODIGO_PROJETO INTEGER,
    FK_DOCENTE_CODIGO_DOCENTE INTEGER,
    DATA_INICIO DATE,
    TEMPO_MESES CHAR
);
 
ALTER TABLE DOCENTE ADD CONSTRAINT FK_DOCENTE_2
    FOREIGN KEY (FK_CATEGORIA_CATEGORIA)
    REFERENCES CATEGORIA (CATEGORIA)
    ON DELETE RESTRICT;
 
ALTER TABLE PROJETO_DOCENTE ADD CONSTRAINT FK_PROJETO_DOCENTE_1
    FOREIGN KEY (FK_PROJETO_CODIGO_PROJETO)
    REFERENCES PROJETO (CODIGO_PROJETO)
    ON DELETE SET NULL;
 
ALTER TABLE PROJETO_DOCENTE ADD CONSTRAINT FK_PROJETO_DOCENTE_2
    FOREIGN KEY (FK_DOCENTE_CODIGO_DOCENTE)
    REFERENCES DOCENTE (CODIGO_DOCENTE)
    ON DELETE SET NULL;